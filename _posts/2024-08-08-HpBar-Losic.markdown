---
layout: post
title:  "2024 인디 게임 잼 대전 : Hp바 로직 이야기"
date:   2020-01-02 19:31:29 +0900
categories: unity
---
## 서론
2024 인디 게임잼 대전에서 게임에 적용헸단  HP 바 로직을 소개 한다.  

## 1. 배경

### 유니티에서  Hp 바를  구현하는  방법

Unity 엔진에서 Hp를 구현하는 방법은 여러가지가 있다.  많이 사용하는 방법은 Slider를 이욯하는 방식인데, 간단하지만 Slider 1칸 안에 모든 체력을 표현해야 한다는 특징을 갖는다. Slider 방식을 사용하게 된다면 체력이 적을때(10000 내외)는 효과를 주는데 큰 문제가 없지만, 억 / 조 단위 같은 큰 수로 넘어오면 데미지가 깎이고 있다는 시각적인 효과를 주기 어렵게 되어 다른 방식을 고민하게 되었다. 

그러던 중, Image를 이용한 체력바 구현 방식이 있다는 것을 알게 되었고, Image를 가지고 체력바를 구현 하게 됬다.

### 5조 를 체력바에 표현하는 방법

10의 12제곱인 조 라는 숫자를 체력바 한개만으로 구현 하기엔 데미지당 깎이는 칸이 현미경으로 봐야 보일 정도로 미세할 것이다. 그렇기에 칸을 나눠야 했고, 그 나눠진 칸 마다 색상을 다르게 하는 방식을 채택하게 되었다. 색상은 5가지 정도로 했는데, 색을 다양하게 해볼까 했지만, 현재 서비스 되고 있는 게임(ex. 마비노기, 로스트 아크 등)에서 보스들의 체력바 또한 5가지의 색만 사용 하고 있어 5가지 색만 선택했다. 색상은 마비노기 게임에서 보스 체력바를 표현하고 있는 색상인 "보라, 하늘, 연두, 노랑, 빨강" 순서로 배치 했다.

## 2. 로직 구현 하기

```csharp
public Image CurrHpbar, NextHpbar; // 체력바 이미지

public int hpSingleBar; // 바 1개 당 체력
public int currHp; // 현재 체력
public int maxHp; // 최대 체력

public List<Color> colors; // 색깔 리스트
```
Hp 바를 움직이는 스크립트에 들어가는 변수들을 설정했다. 현재 체력바와 다음 체력바 오브젝트를 Image 형으로 지정하고, 바 1개당 체력, 현재 체력, 최대 체력은 int 자료형으로 지정했다. 색깔 리스트는 List로 지정했다.

``` csharp
private void Awake()
{
	hpSingleBar = 10;
	currHp = 100;
	maxHp = 100;
}
```

Awake 함수에 바 1개당 체력 과 최대 / 현재 체력을 설정 한다. 바 1개 당 체력은 10으로, 현재 체력과 최대 체력은 100으로 설정했다.

























많이 사용하는 방법은 Slider를 이용하는 방법인데,이 방법은 간단하지만 1칸에 모든 체력을 표현해야 한다는 특징을 가진다. 우리가 만든 게임(5T0)에서 Silder 방식의 체력바를 사용한다면 체력바의 길이가 가로 길이 만해지거나, 체력을 깎는 최소 단위가 커지게 된다는 문제점이 생기게 된다. 왜냐하면 보스의 체력이 5 Trillion(5조, 5, 000, 000, 000, 000) 이기 때문이다. 일반적인 보스의 체력이라면 Slider 방식을 사용해도 큰 문제는 없을 것이다. 

## 참고 자료
